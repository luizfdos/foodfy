{% extends "layout.njk" %}
{% block header %}
  <header id="admin">
    <div>
      <a href="/admin/recipes"><img src="/../assets/logowhite.png" alt="Foodfy logo"></a>
    </div>
  </header>
{% endblock %}
{% block content %}
  <main>
    <form method="post" class="edit-create" action="/admin/recipes?_method=PUT">
      <div class='form-title'>
        <h2>Editando receita</h2>
        <div class="buttons">
          <button class="save" type="submit">Salvar receita</button>
        </div>
      </div>
   {% include "./fields.njk"%}
  </form>

  <form method="post" action="/admin/recipes?_method=DELETE" id="form-delete">
    <input type="hidden" name="index" value="{{recipe.index}}">
    <button class="delete" type="submit">Deletar</button>
  </form>
  <script>
    const formDelete = document.querySelector('#form-delete')
    formDelete.addEventListener("submit", function(event){
      confirmation = confirm("Deseja realmente deletar a receita?")
      if(!confirmation) {
        event.preventDefault()
      }
    })
  </script>
</main>
<script src="/../../../add.js"></script>
{% endblock content %}
{% block footer %}{% endblock %}